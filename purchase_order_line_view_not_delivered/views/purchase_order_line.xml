<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="purchase_order_line_view_po_line_tree" model="ir.ui.view">
        <field name="name">purchase.order.line.view.qty.not.delivered</field>
        <field name="model">purchase.order.line</field>
        <field
            name="inherit_id"
            ref="purchase_order_line_view.purchase_order_line_view_po_line_tree"
        />
        <field name="arch" type="xml">
            <tree position="attributes">
                <attribute name="decoration-danger">qty_not_delivered > 0</attribute>
            </tree>
            <field name="qty_received" position="after">
                <field name="qty_not_delivered" />
            </field>
        </field>
    </record>
    <record id="purchase_order_line_view_po_line_search" model="ir.ui.view">
        <field name="name">purchase.order.line.view.po.line.search.not.delivered</field>
        <field name="model">purchase.order.line</field>
        <field name="inherit_id" ref="purchase.purchase_order_line_search" />
        <field name="arch" type="xml">
            <filter name="hide_cancelled" position="before">
                <filter
                    name="filter_not_delivered"
                    string="Not Delivered"
                    domain="[('qty_not_delivered','>', 0)]"
                />
                <separator />
            </filter>
        </field>
    </record>
</odoo>
